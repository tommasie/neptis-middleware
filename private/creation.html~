<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html ng-app= "myCreation">
    <head>
        <title>Create content</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- <script type="text/javascript"
 		 src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0xbJJwC7pQBzNFupb2s7orzOvB_ctSb4&libraries=geometry">
		</script> -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular.js"></script>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@0.7.7/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@0.7.7/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-plugins/2.0.0/layer/tile/Google.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-providers/1.1.15/leaflet-providers.js"></script>
		<script src="/lib/angular-leaflet-directive.min.js"></script>
        <script src="/angular/controller/myStructureController.js"></script>
        <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.3.js"></script>

        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular-sanitize.js"></script>
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css">
        <script src="angular-ui-notification.js"></script>
        <script src="preferences.js"></script>
        <link href="/private.css" rel="stylesheet" type="text/css"> 
        <script src="select.js"></script> 
        
       <!-- <link rel="stylesheet" href="select.css"> !-->
        <style>
            body {
                padding: 15px;
            }

      
        </style>
        
        
    </head>
    <body>
        <div id = "titolo" align = "center" style="font-family:Arial; font-size:50px" > NEPTIS </div>
       <!-- <div style='text-align:center'>
            <a href='curatore'> Home </a> |
            <a href='creation'  > Create </a>  |
            <a href='modification'  > Modify</a> 
        </div> !-->
        <nav class="navbar navbar-default  navbar-static-top" style="top:-23px;height: 51px">
            <div class="container-fluid" >
              <a class="navbar-brand" href="#">NEPTIS</a>
              <ul class="nav navbar-nav">
                <li><a href='curatore'>Home</a></li>
                <li class="active"><a href='creation'> Create</a></li>
                <li><a href='modification'> Modify</a></li>
              </ul>
            </div>
        </nav>
       
       
    <div class="container">    
    <form name="create" id="create" >    
    <div ng-controller="myStructureCtrl" class="container">
      
        <!-- <p>Selected: {{structure.selected.name}} </p> -->
        <ui-select ng-model="structure.selected" theme="bootstrap" ng-disabled="disabled" reset-search-input="false" style="width: 300px;">
        <ui-select-match placeholder="Select a structure...">{{$select.selected.name}}</ui-select-match>
        <ui-select-choices repeat="struct in structure | filter: $select.search"     
                           refresh-delay="0">
          <div ng-bind-html="struct.name | highlight: $select.search"></div>
        </ui-select-choices> 
        </ui-select>
        
        <!--      
        <div id='selectStructure'  style='width:30%;margin-top: 60px'>
            <label for='structure'>Type of structure</label> 
            <select name="structure" id='structure' ng-model="data.structure">
                <option value="empty" selected >Select a structure</option>
                <option value="city" >City</option>
                <option value="museum" >Museum</option>
                <option value="openedMuseum" >Opened Air Museum</option>
                
            </select> 
            <tt> hai selezionato = {{data.structure}} </tt>
        </div>
        !-->
       
                <!--  prova select bootstrap    !-->
        <!-- <p>Selected: {{regions.selected.name}} </p> -->
        <ui-select ng-model="regions.selected" ng-change="importCity(regions.selected.name)" theme="bootstrap" ng-disabled="disabled" reset-search-input="false" style="width: 300px;">
        <ui-select-match placeholder="Select a region...">{{$select.selected.name}}</ui-select-match>
        <ui-select-choices repeat="regione in region | filter: $select.search"
                           
                           refresh-delay="0">
          <div ng-bind-html="regione.name | highlight: $select.search"></div>
        </ui-select-choices> 
        </ui-select>
        <!-- <p>hai scelto (tupla intera): {{regions}} </p> -->
                
                
                
                
        <!-- <p>Selected: {{comune.selected.name}} </p> -->
        <ui-select ng-model="comune.selected" theme="bootstrap" ng-disabled="disabled" reset-search-input="false" style="width: 300px;" on-select="onSelected($item)">
        <ui-select-match placeholder="Enter a city...">{{$select.selected.name}}</ui-select-match>
        <ui-select-choices  repeat="comune in comuni | filter: $select.search"
                          
                           refresh-delay="0">
          <div ng-bind-html="comune.name | highlight: $select.search"></div>
        </ui-select-choices> 
        </ui-select>
        <!-- <p>hai scelto (tupla intera): {{comune.selected}} </p> -->
        
         <!-- <p>Selected: {{comune.selected.formatted_address}} </p> 
        <ui-select ng-model="comune.selected" theme="bootstrap" ng-disabled="disabled" reset-search-input="false" style="width: 300px;">
        <ui-select-match placeholder="Enter a city...">{{$select.selected.address_components[0].long_name}}</ui-select-match>
        <ui-select-choices  repeat="comune in comuni track by $index "
                            refresh="refreshAddresses($select.search)"
                           refresh-delay="0">
          <div ng-bind-html="comune.address_components[0].long_name | highlight: $select.search"></div>
          <small>
              region: {{comune.address_components[3].long_name}}
          </small>
        </ui-select-choices> 
        </ui-select>
        <p>hai scelto regione: {{comune.selected.address_components[3].long_name}} </p> !-->
        <!--    select classica        
        <div id='selectCity'  style='width:50%;margin-top: 60px'>
            <label for='city'>Select a city</label> 
            <select name="city" id='city' ng-model="data.city" ng-options="c.name group by c.region for c in comuni">
        
            </select> 
            <tt> hai selezionato = {{data.city}} </tt>
        </div>
        !-->
       <div class="col-xs-4"> 
        <div id='museumForm' ng-show= "structure.selected.name =='Museum' || structure.selected.name == 'Opened Museum'"  style='margin-top: 30px'>
            <label for='museumName' style="display:inline;margin-left:-15px"> Museum name </label>
            <input id='museumName' style="margin-left:-15px" class='form-control'  name='museumName'ng-model="museumName" type="text" placeholder="Insert a museum"  >  
            
        </div>
        
        <div id='noAreaDiv' ng-show="structure.selected.name == 'Museum' " >
            <label style='display:inline-block;margin-left: -15px'>This museum has no areas</label>
            <input type='checkbox' style='display:inline-block;margin-left: 15px' ng-model="noArea" ng-show="structure.selected.name =='Museum'" name='noArea' value='noArea'>
        </div>
        
        <div id='addArea' ng-show="(structure.selected.name=='Museum' || structure.selected.name == 'Opened Museum') && !noArea" style='margin-top: 30px'>
            <label for='areaName' style="display:inline;margin-left:-15px"> Area name </label>
            <input id='areaName' style="margin-left:-15px" class='form-control'  name='areaName' ng-model="areaName" type="text" placeholder="Insert a new area" >
  
        </div>
      
        <div id='addAttraction'  style='margin-top: 30px' >
        
            <label for='attractionName' style="display:inline;margin-left:-15px"> Attraction name </label>
            <input id='attractionName' style="margin-left:-15px" class='form-control'  name='attractionName' ng-model="attractionName" type="text" placeholder="Insert a new attraction" required >
       </div>
		
		<div ng-if="structure.selected.name == 'City' " id="map" style='margin-top: 30px'>
			<label style="display:inline;margin-left:-15px"> Attraction location </label>
			<leaflet style="margin-left:-15px" height='500px' width='1000px' center='center' event-broadcast='events' markers ='markers'></leaflet>
		</div>

        <!-- <div ng-if="structure.selected.name == 'City' " id='addAttractionCoordinates'  style='margin-top: 30px' >
        
            <label for='attractionCoord' style="display:inline;margin-left:-15px"> Attraction coordinates </label>
            <input id='attractionCoord' style="margin-left:-15px" class='form-control'  name='attractionCoord' ng-model="attractionCoord" type="text" placeholder="Insert coordinates" required >
       </div> -->
       
         <div id='confirmation' style='margin-top: 30px'>
            <input type='button' class="btn btn-default" id='submit' value='Add new instance' ng-click ="add(structure.selected.name)" style='margin-left: 300px'  ng-disabled="create.$invalid">
        </div>
        
        <div id='finish' style='margin-top: 30px' >
            <input type='button' class="btn btn-default" id='submit' value='Finish' ng-click ="parser(structure.selected.name)" style='margin-left: 300px'   >
        </div>
       </div>
     </div>
    </form>  
    </div>
    </body>
</html>
